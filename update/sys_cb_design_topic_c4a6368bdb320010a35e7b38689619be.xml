<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__44a6368b403200103979fbfbdbce01b9">04a6368bdb320010a35e7b38689619bb</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"cfec610d2f604cd9b0a3d5aae9bf7954","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"cfec610d2f604cd9b0a3d5aae9bf7954"}],"goals":[{"name":"primary","trigger_id":"cfec610d2f604cd9b0a3d5aae9bf7954","nodes":[{"type":"StartGoal","goal_id":"8e6cf77451434a71a458eed6b1fdb978","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"2d8782cf4a8f4277acfca6179b6e42fc","name":"Start"},{"type":"TerminateGoal","goal_id":"8e6cf77451434a71a458eed6b1fdb978","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"9760494be235490a9f2204285c0cc0ce","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"b5a84faef08842c488a1fdb14d41909d","name":"NeedIt Type","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"750337f798a346a5b092bacc0c1c5d4c","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n})()\n"},"id":"4219490ac8fe4ca88385edcf5e87115f","name":"Confirm NeedIt Type","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"glide_record","id":"3be3f079aa974a849cee78ffb8391c1d","name":"NeedIt List","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"eb928b77cb6d4168aa3c690d9d73dce5","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"simple","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records"},"condition":{"type":"Condition","mode":"glide_query","value":"active=true^u_request_type={{vaInputs.needit_type}}^u_requested_for={{vaInputs.user}}"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"eb928b77cb6d4168aa3c690d9d73dce5","fields":["priority","short_description","u_when_needed"],"id":"6b4e91d357284d078f61a8c6df4a5748","name":"NeedIt Card","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"643e0fa45bbe46e2817007ef47acb5ba","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"f9d84ffff09741f3963932ea939b9e04","name":"Search Again","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"a692502c966643f0b747c7e8aaf497a4","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"6e22a8cba4d84622bc50e598445b5441","name":"Yes"}],"id":"ea352c011eb44ec3969a17bba63dcb97","goal_id":"8e6cf77451434a71a458eed6b1fdb978"},{"type":"InputPrompt","variable_id":"b402cd68c9c4434f8d4c1da08dcf5c9b","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"dbb0b422799c4ed2b0d24523cb695281","name":"New When Needed Date","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"eb928b77cb6d4168aa3c690d9d73dce5","id":"39f16c92206144be8bd7973de678727e","name":"Change When Needed Date","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"eb928b77cb6d4168aa3c690d9d73dce5","fields":["short_description","u_when_needed"],"id":"27b49d4fecc84ca09178bfe8594a8cf5","name":"Updated NeedIt","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"7b2b2e7f94564a1fa8048062eee007dd","name":"NeedIt Which Field to Update","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"2f376122c33a4b3ea73ad960f2ddb672","message":{"type":"String","mode":"string","value":"Which field would you like to update?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"needit_which_field_to_update=nothing"},"id":"6381387e5ee94aedad503544bdbb6776","name":"Nothing"},{"type":"Branch","label":"When Needed Date","expression":{"type":"Applicability","mode":"query","value":"needit_which_field_to_update=when_needed"},"id":"4217cd323f1e4d88b4c10d0c9b94ffb2","name":"When Needed Date"},{"type":"Branch","label":"Short Description","expression":{"type":"Applicability","mode":"query","value":"needit_which_field_to_update=short_description"},"id":"e26d40f52482407da47829eb81f80548","name":"Short Description"}],"id":"7234923ccb2f41c0bf24b598759e331b","goal_id":"8e6cf77451434a71a458eed6b1fdb978"},{"type":"InputPrompt","variable_id":"f918d0a18cb842279fdcb146d804cb1e","message":{"type":"String","mode":"string","value":"What is the new Short Description?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"f9680a9aed9f448c86d5ccf25c6baf91","name":"New Short Description","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"eb928b77cb6d4168aa3c690d9d73dce5","id":"9f0ec0fb9c1d4e8caf7b226f87eb5ba5","name":"Change Short Description","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    vaVars.search_count = vaVars.search_count + 1;\n})()\n","id":"9e62a5f69e85402bbe66c5bfb140d99f","name":"Update search_count","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Search Count Less Than 3","branches":[{"type":"Branch","label":"Less than 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    if (vaVars.search_count &lt;3)\n        return true;\n    else\n        return false\n})()\n"},"id":"6967f9a88b444cdcab78cf1e41a65372","name":"Less than 3"},{"type":"Branch","label":"3 or More","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    if (vaVars.search_count &lt; 3)\n        return false;\n    else\n        return true;\n\n})()\n"},"id":"4cfa9ffdbef14929915f5a7b276d8d25","name":"3 or More"}],"id":"e83f92e94b9d4c0daa8b5b699e340e09","goal_id":"8e6cf77451434a71a458eed6b1fdb978"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    if (vaSystem.isLiveAgentAvailable()) {\n        return 'You have reached your NeedIt search quota. I will transfer you to a live agent for assistance';\n    } else {\n        return 'You have reached your NeedIt search quote. If you need to work with multiple NeedIt records, open NeedIt &gt; My NeedIt Requests';\n    }\n})()\n"},"id":"b6ae242cf42a4fed90469fa983bf6058","name":"Quota Reached","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    vaSystem.connectToAgent();\n})()\n","id":"d9c5c3e55e474fdbae8921751fac621c","name":"Transfer to Agent","goal_id":"8e6cf77451434a71a458eed6b1fdb978","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run \n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n    */\n    if (vaSystem.isLiveAgentAvailable()) {\n        return true;\n    } else {\n        return false;\n    }\n})()\n"}}],"edges":[{"type":"Edge","source_node_id":"7234923ccb2f41c0bf24b598759e331b","target_node_id":"f9d84ffff09741f3963932ea939b9e04","branch_id":"6381387e5ee94aedad503544bdbb6776","id":"a675294462354998aa10add584c4da91","name":"6381387e5ee94aedad503544bdbb6776"},{"type":"Edge","source_node_id":"2d8782cf4a8f4277acfca6179b6e42fc","target_node_id":"b5a84faef08842c488a1fdb14d41909d","id":"0c1ffb22593d44caa837a36605842afd"},{"type":"Edge","source_node_id":"b5a84faef08842c488a1fdb14d41909d","target_node_id":"4219490ac8fe4ca88385edcf5e87115f","id":"e10fa526a96d4c1d8eefbbdc76511e11"},{"type":"Edge","source_node_id":"4219490ac8fe4ca88385edcf5e87115f","target_node_id":"3be3f079aa974a849cee78ffb8391c1d","id":"458726c07479443a83384fd887353ba9"},{"type":"Edge","source_node_id":"3be3f079aa974a849cee78ffb8391c1d","target_node_id":"6b4e91d357284d078f61a8c6df4a5748","id":"61859e8fb1644e7198f9d69d4d4f0b58"},{"type":"Edge","source_node_id":"f9d84ffff09741f3963932ea939b9e04","target_node_id":"ea352c011eb44ec3969a17bba63dcb97","id":"4deb6c25368b472e8f39dba9cee1c8ba"},{"type":"Edge","source_node_id":"ea352c011eb44ec3969a17bba63dcb97","target_node_id":"9760494be235490a9f2204285c0cc0ce","branch_id":"a692502c966643f0b747c7e8aaf497a4","id":"7504622d48844bb0b6345336dba90c86","name":"a692502c966643f0b747c7e8aaf497a4"},{"type":"Edge","source_node_id":"dbb0b422799c4ed2b0d24523cb695281","target_node_id":"39f16c92206144be8bd7973de678727e","id":"12146610cee64ee291ec48d2e585ee9f"},{"type":"Edge","source_node_id":"39f16c92206144be8bd7973de678727e","target_node_id":"27b49d4fecc84ca09178bfe8594a8cf5","id":"b54318ede40f4ec3b24c67057f59b26c"},{"type":"Edge","source_node_id":"27b49d4fecc84ca09178bfe8594a8cf5","target_node_id":"f9d84ffff09741f3963932ea939b9e04","id":"015ff46fc832471a87efa98ec172e635"},{"type":"Edge","source_node_id":"6b4e91d357284d078f61a8c6df4a5748","target_node_id":"7b2b2e7f94564a1fa8048062eee007dd","id":"f2e1320f189640329768b9227eab65d2"},{"type":"Edge","source_node_id":"7b2b2e7f94564a1fa8048062eee007dd","target_node_id":"7234923ccb2f41c0bf24b598759e331b","id":"fbe887eac5ce4ac68fc545157b043c3f"},{"type":"Edge","source_node_id":"7234923ccb2f41c0bf24b598759e331b","target_node_id":"dbb0b422799c4ed2b0d24523cb695281","branch_id":"4217cd323f1e4d88b4c10d0c9b94ffb2","id":"f6e2e75c81ce44f9b740b9a11993957a","name":"4217cd323f1e4d88b4c10d0c9b94ffb2"},{"type":"Edge","source_node_id":"7234923ccb2f41c0bf24b598759e331b","target_node_id":"f9680a9aed9f448c86d5ccf25c6baf91","branch_id":"e26d40f52482407da47829eb81f80548","id":"00e1bf31758c420682b61bd3ac251fcd","name":"e26d40f52482407da47829eb81f80548"},{"type":"Edge","source_node_id":"f9680a9aed9f448c86d5ccf25c6baf91","target_node_id":"9f0ec0fb9c1d4e8caf7b226f87eb5ba5","id":"cf484fc0c9fc4505842797bf96826b8d"},{"type":"Edge","source_node_id":"9f0ec0fb9c1d4e8caf7b226f87eb5ba5","target_node_id":"27b49d4fecc84ca09178bfe8594a8cf5","id":"5b4d02a8b23546a5a47ad358883c5c6d"},{"type":"Edge","source_node_id":"ea352c011eb44ec3969a17bba63dcb97","target_node_id":"9e62a5f69e85402bbe66c5bfb140d99f","branch_id":"6e22a8cba4d84622bc50e598445b5441","id":"8d8145106448485682dd9cbf2d346b1d","name":"6e22a8cba4d84622bc50e598445b5441"},{"type":"Edge","source_node_id":"9e62a5f69e85402bbe66c5bfb140d99f","target_node_id":"e83f92e94b9d4c0daa8b5b699e340e09","id":"82c4f905866547e58f300facbc009ed9"},{"type":"Edge","source_node_id":"e83f92e94b9d4c0daa8b5b699e340e09","target_node_id":"b5a84faef08842c488a1fdb14d41909d","branch_id":"6967f9a88b444cdcab78cf1e41a65372","id":"5f7c2177954245b3bd70344d9829e567","name":"6967f9a88b444cdcab78cf1e41a65372"},{"type":"Edge","source_node_id":"e83f92e94b9d4c0daa8b5b699e340e09","target_node_id":"b6ae242cf42a4fed90469fa983bf6058","branch_id":"4cfa9ffdbef14929915f5a7b276d8d25","id":"dadf3d4f19ef4d87b890db42a92edecf","name":"4cfa9ffdbef14929915f5a7b276d8d25"},{"type":"Edge","source_node_id":"b6ae242cf42a4fed90469fa983bf6058","target_node_id":"d9c5c3e55e474fdbae8921751fac621c","id":"a7776a867e784a61b4dc259e9cb51c83"},{"type":"Edge","source_node_id":"d9c5c3e55e474fdbae8921751fac621c","target_node_id":"9760494be235490a9f2204285c0cc0ce","id":"87c06fa0af32488b99e1d3cd80126b4a"}],"id":"8e6cf77451434a71a458eed6b1fdb978"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"19545571977446daa630a6088d00f860"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"750337f798a346a5b092bacc0c1c5d4c","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","reference_qualifier_condition":"active=true^u_request_type={{vaInputs.needit_type}}^u_requested_for={{vaInputs.user}}","id":"eb928b77cb6d4168aa3c690d9d73dce5","name":"needit_list"},{"type":"True/False","id":"643e0fa45bbe46e2817007ef47acb5ba","name":"search_again"},{"type":"Date/Time","mode":"date","id":"b402cd68c9c4434f8d4c1da08dcf5c9b","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"b4478f5c653d4dacb8aed8130688cc11","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short Description","element":"short_description"},{"name":"When Needed Date","element":"when_needed"},{"name":"Nothing","element":"nothing"}],"id":"2f376122c33a4b3ea73ad960f2ddb672","name":"needit_which_field_to_update"},{"type":"String","name":"new_short_description","id":"f918d0a18cb842279fdcb146d804cb1e"},{"type":"Reference","table":"x_58872_needit_needit","id":"0860fc4be31e4dc48a6ecdec11e9ea59","name":"change_short_description"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"38bbee32db360010a35e7b386896196c","id":"9f7da276db360010a35e7b3868961911","name":"_PRVW__44a6368b403200103979fbfbdbce01b9","key_phrases":["Update NeedIt Records","NeedIt Request"],"nlu_provider":"","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"a4fbeef2db360010a35e7b3868961976"}</design_definition>
        <design_topic_id>9f7da276db360010a35e7b3868961911</design_topic_id>
        <name>_PRVW__44a6368b403200103979fbfbdbce01b9</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-02-11 00:50:49</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>c4a6368bdb320010a35e7b38689619be</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_422638_needit_vi">38bbee32db360010a35e7b386896196c</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">38bbee32db360010a35e7b386896196c</sys_scope>
        <sys_update_name>sys_cb_design_topic_c4a6368bdb320010a35e7b38689619be</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-02-11 00:50:49</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
